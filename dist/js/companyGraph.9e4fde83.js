"use strict";(self["webpackChunkwrds_company_competition_demo"]=self["webpackChunkwrds_company_competition_demo"]||[]).push([[775],{7886:function(e,t,o){o.r(t),o.d(t,{default:function(){return _}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"relation-graph"},[t("h3",[e._v(e._s(e.title.toUpperCase()))]),t("CompanyGraph")],1)},r=[],s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"chart-container"},[t("el-input",{staticClass:"graphSearch",attrs:{placeholder:"Search for node"},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),t("v-chart",{ref:"vchart",staticClass:"chart",attrs:{option:e.chart}})],1)},n=[],i=o(8023),c=o(1416),l=o(4542),h=o(8690),p=o(3810),d=o(6179),m=o(1985),u=o(144),y=o(186),g=o(3012);(0,i.D)([c.N,l.N,h.N,p.N,d.N]);var f=(0,u.defineComponent)({name:"CompanyGraph",components:{VChart:m.ZP},provide:{[m.bw]:"dark"},watch:{searchTerm(){const e=this.useGraph.nodes.filter((e=>e.name===this.searchTerm));console.log(e);const t=this.$refs.vchart;if(e.length>0){const o=e.map((e=>e.id));t.dispatchAction({type:"highlight",seriesIndex:0,nodeIds:o})}else t.dispatchAction({type:"downplay",seriesIndex:0})}},methods:{handleChartReady(e){e.on("click",this.handleNodeClick),console.log(1)},handleNodeClick(e){console.log("Node clicked:",e.data)}},data(){return{dow30SampleGraph:y,sp500SampleGraph:g,searchTerm:"",defaultGraphs:{SP500:g,DOW30:y},useGraph:null,edgeColors:[{name:"competition",color:"red"},{name:"unknown",color:"black"}],edgeColorMap:{unknown:"lightgrey",other:"lightgrey",competition:"black"},chart:null,toEmphasize:["MSFT","ZOOM","INTC","IBM","CSCO"]}},async created(){let e=this.$route.params.graphType;e=e&&this.defaultGraphs[e.toUpperCase()]?this.$route.params.graphType:"DOW30";const t=this.defaultGraphs[e.toUpperCase()];this.useGraph=t;const o=t.links.sort(((e,t)=>{const o=parseInt(e.source),a=parseInt(t.source);return o<a?-1:o>a?1:0})),a={};o.forEach((e=>{a[e.source]?a[e.source]+=1:a[e.source]=1}));const r=t.nodes.map((e=>{let t=10;return a[e.id]>10&&(t=a[e.id]),this.toEmphasize.includes(e.name)?{id:e.id,name:e.name,symbolSize:t,emphasized:!0,itemStyle:{borderWidth:4,borderColor:"red"},label:{fontSize:"18px",fontWeight:"bolder"}}:{id:e.id,name:e.name,symbolSize:t}})),s=t.links.map((e=>({id:e.id,category:e.category,source:e.source,target:e.target,lineStyle:{color:this.edgeColorMap[e.category],width:2},label:{color:this.edgeColorMap[e.category]}}))),n=(0,u.ref)({backgroundColor:"#fff",title:{text:"Company Relations",subtext:"See how companies relate with each other",top:"top",left:"center",color:"#000"},tooltip:{},animationDuration:150,animationEasingUpdate:"quinticInOut",series:[{name:"sample",type:"graph",layout:"force",force:{repulsion:80,gravity:.02,edgeLength:240,layoutAnimation:!1},focusNodeAdjacency:!0,edgeSymbol:["none","none"],data:r,links:s,roam:!0,label:{color:"#000",show:!0,position:"right",formatter:"{b}"},edgeLabel:{show:!0,position:"middle",fontSize:12,formatter:e=>e.data.category},lineStyle:{color:"source",curveness:.3},emphasis:{focus:"adjacency",lineStyle:{width:10}}}]});this.chart=n},mounted(){this.$nextTick((()=>{const e=this.$refs.vchart;e.chart.on("click",this.handleNodeClick)}))}}),C=f,k=o(1001),b=(0,k.Z)(C,s,n,!1,null,"dd2b699c",null),S=b.exports,w={name:"CompanyRelations",component:S,data(){return{title:"",searchTerm:""}},mounted(){this.$route.params.graphType&&(this.title=`${this.$route.params.graphType} Company Competition Graph`)},methods:{},components:{CompanyGraph:S}},v=w,T=(0,k.Z)(v,a,r,!1,null,"216717a5",null),_=T.exports}}]);