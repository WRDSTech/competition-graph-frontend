{"ast":null,"code":"import _Checkbox2 from \"element-ui/lib/theme-chalk/checkbox.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Checkbox from \"element-ui/lib/checkbox\";\nimport _Autocomplete2 from \"element-ui/lib/theme-chalk/autocomplete.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Autocomplete from \"element-ui/lib/autocomplete\";\nimport \"core-js/modules/es.array.push.js\";\nimport { use } from 'echarts/core';\nimport axios from 'axios';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { GraphChart } from 'echarts/charts';\nimport { THEME_KEY } from 'vue-echarts';\nimport { defineComponent, h } from 'vue';\nimport companyNames from '@/assets/data/company_name.json';\n// import { getCompanyGraph } from '../api/company-graph'\n\nuse([CanvasRenderer, GraphChart]);\nexport default defineComponent({\n  name: 'SearchPage',\n  components: {\n    h,\n    Autocomplete: _Autocomplete,\n    Checkbox: _Checkbox\n  },\n  provide: {\n    [THEME_KEY]: 'dark'\n  },\n  data() {\n    return {\n      companyNameSuggest: [],\n      form: {\n        companyName: '',\n        lays: '',\n        checkCompete: true,\n        checkProd: true,\n        unkown: true,\n        other: true\n      }\n    };\n  },\n  methods: {\n    querySearch(queryString, cb) {\n      var restaurants = this.companyNameSuggest;\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    searchId(name) {\n      const data = companyNames;\n      let id = 0;\n      data.forEach(element => {\n        if (element.value === name) {\n          id = element.id;\n        }\n      });\n      return id;\n    },\n    createFilter(queryString) {\n      return restaurant => {\n        return restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    loadAll() {\n      return companyNames;\n    },\n    handleSelect(item) {\n      console.log(item);\n    },\n    async onSubmit() {\n      const id = this.searchId(this.form.companyName);\n      let lays = this.form.lays;\n      if (lays === '') {\n        lays = 1;\n      }\n      const comp = this.form.checkCompete;\n      const prod = this.form.checkProd;\n      const other = this.form.other;\n      const unkown = this.form.unkown;\n      this.$router.push('partial-graph/' + id + '/' + lays + '/' + comp + '/' + prod + '/' + other + '/' + unkown);\n    },\n    fetchCompetitors(companyName) {\n      axios.get(`/competitors/${companyName}`).then(response => {\n        // Handle the response from the API\n        // You can update the component's data or perform any other actions based on the response\n        console.log(response.data);\n      }).catch(error => {\n        // Handle the error if the API request fails\n        console.error(error);\n      });\n    }\n  },\n  async created() {\n    // const graph = await getCompanyGraph(0, 1000)\n    // const graph = null\n  },\n  mounted() {\n    this.companyNameSuggest = this.loadAll();\n    console.log(this.companyNameSuggest);\n  }\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}